<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>test easy</title>
</head>
<body>
<h3>Question <i id="ans_id">1</i> of 10.</h3>
<div id="response">
    <form method="POST" id="enter">
    <table>
        <thead>Find the capital of {{ name }}</thead>
        <tr>
            <td><label><input id="ch" name="check" type="radio" value="{{ ans1 }}">{{ ans1 }}</label></td>
            <td><label><input id="ch" name="check" type="radio" value="{{ ans2 }}">{{ ans2 }}</label></td>
        </tr>
        <tr>
            <td><label><input id="ch" name="check" type="radio" value="{{ ans3 }}">{{ ans3 }}</label></td>
            <td><label><input id="ch" name="check" type="radio" value="{{ ans4 }}">{{ ans4 }}</label></td>
        </tr>
    </table>
</form>
</div>
<button id="btn">Check</button>
<script src="//ajax.googleapis.com/ajax/libs/jquery/3.5.0/jquery.min.js"></script>
<script type="text/javascript">
 $('button#btn').click(function(){
        $.ajax({
            url: "/_update/",
            type: "POST",
            success: function(resp){
                let div = document.getElementById("response");
                div.innerHTML = "";
                div.innerHTML += resp.data;
            }
        });
      });



$('button#btn').click(function(){
    let ans = document.getElementById("ans_id")
    let ans_id = parseInt(ans.innerHTML);
    if (ans_id==10) {
            $.ajax({
            url: "/end_test",
            type: "POST",
            success: function(resp){
                let div = document.getElementById("response");
                div.innerHTML = "";
                div.innerHTML += resp.data;
            }
        });
    }
    ans_id += 1;
    ans.innerHTML = "";
    ans.innerHTML +=  ans_id;
});


 </script>
</body>
</html>